<!DOCTYPE html>
<html lang="en" id="html">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Graplet | Surpeme Block Based Bot Creator</title>
	<script src="/static/scripts/db.js"></script>
	<script src="/static/scripts/toggle.js"></script>
	<link rel="stylesheet" type="text/css" href="/static/styles/main.css">
	<link rel="icon" type="image/x-icon" href="/static/graplet.ico">
	<style>
		#projects{
			display: flex;
			flex-direction: row;
			flex-wrap: wrap;
			gap: 20px;
		}
		.applet,  #create-new{
			cursor: pointer;
			border-radius: 30px;
			background: rgba(var(--val), var(--val), var(--val), 0.3);
		}
		.applet:hover,#create-new:hover{
			box-shadow: 0 0 20px rgba(calc(225 - var(--val)),calc(225 - var(--val)),calc(225 - var(--val)), 0.2);
		}
    .applet:active,#create-new:active{
			box-shadow: 0 0 30px rgba(calc(225 - var(--val)),calc(225 - var(--val)),calc(225 - var(--val)), 0.2);
		}
		.appname{
			display: flex;
			justify-content: center;
			align-items: center;
			height: 40px;
      margin: 0 20px;

		}
    .appname h2{
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
		.appimage{
			width: 215px; height: 215px;
			border-radius: 30px 30px 0 0;
			opacity: 0.5;
		}
	</style>
</head>
<body>
	<!-- Default Navigation Bar -->
	<div class="navbar">
		<div class="bar-items">
			<div class="navigator home" onclick="window.location.href = '..'">
				<svg class="fillvector" width='30px' height='30px' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.3506 5.54218C9.37678 5.62361 11.2245 0 11.2245 0C11.2245 0 14.0715 1.13929 15.5959 2.33302C17.1203 3.52674 18.6222 5.79299 18.6222 5.79299C18.6222 5.79299 17.5954 5.33262 16.7424 5.32138C16.0338 5.31205 15.4054 5.72716 15.9501 5.92551C16.546 6.14256 18.6068 6.64416 19.7393 7.69758C21.0474 8.91442 21.8402 10.2846 21.8402 10.2846C21.8402 10.2846 19.8114 9.90758 20.0303 10.5344C20.1313 10.8238 21.2678 11.5448 22.0453 12.5539C22.9522 13.7308 23.5102 15.1936 23.5102 15.1936C23.5102 15.1936 21.5727 14.2965 21.4388 14.9971C21.3049 15.6977 22.1444 16.4338 22.0491 17.6259C21.9538 18.818 20.7491 20.7247 20.259 21.5973C19.4746 22.9941 16.0869 23.0412 16.0733 23.0164C16.0651 23.0011 17.0829 19.4727 17.0739 19.47C17.0649 19.4674 12.2427 16.1158 12.1598 16.1078C12.0887 16.1011 1.75952 17.5855 1.60929 17.4865C1.30645 17.2868 0.480899 16.4767 0.48988 16.388C0.494757 16.341 4.26221 13.4868 4.26221 13.4868L4.53148 12.3465C4.67949 11.7192 5.23472 10.0956 5.92158 8.76204C6.60844 7.42847 9.33149 5.57581 9.37541 5.52274M9.36702 11.3779C8.43874 11.444 7.10579 11.7548 6.58879 12.9829C6.29771 13.6743 7.64376 13.4475 8.19975 13.1284C8.75573 12.8094 8.97501 11.8084 9.38622 11.3777" /><path fill-rule="evenodd" clip-rule="evenodd" d="M2.87026 18.3696L11.8164 17.2577L15.6735 19.8805L14.5568 23.4486C14.5568 23.4486 12.7253 24.0022 12.6848 24C12.6441 23.9977 8.74247 21.3145 8.74247 21.3145L9.28894 19.4508L8.9652 19.4936C7.83418 19.643 6.61192 19.6335 5.65691 19.4678C4.8104 19.3209 2.94065 18.5696 2.83539 18.3773M0.0518595 16.1814C0.113301 16.1478 0.116811 16.1528 0.113438 16.2674C0.111351 16.3399 0.0920845 16.3567 0.0490674 16.324C-0.0173762 16.2734 -0.0162364 16.2187 0.0518595 16.1814Z" /></svg>
				<h3 class="mobile">Graplet</h3>
			</div>
			<div class="navigator"onclick="window.location.href = '/editor/'">
				<svg class="icon strokevector" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39 33" fill="none"><path d="M4.77212 17.8041L4.7716 17.8036C4.40337 17.4437 3.91103 17.2492 3.40586 17.2492H1.00019V10H3.37042L4.68971 11.2913L4.6897 11.2913L4.69405 11.2955C5.05813 11.6476 5.54729 11.8462 6.05786 11.8462H10.9425C11.4521 11.8462 11.9437 11.6481 12.3083 11.2918L12.3088 11.2913L13.6281 10H23.5482V17.2492H13.5945C13.0906 17.2492 12.5964 17.4417 12.2273 17.8051C12.2265 17.8058 12.2257 17.8066 12.225 17.8074L10.926 19.0769H6.07252L4.77212 17.8041ZM33 30.1723H13.5943C13.0903 30.1723 12.5961 30.3648 12.227 30.7283C12.2262 30.729 12.2255 30.7297 12.2248 30.7304L10.9258 32H6.07419L4.77141 30.7267C4.40393 30.3675 3.91378 30.1723 3.40567 30.1723H1V22.9231H3.37025L4.69192 24.2148C5.05647 24.5711 5.54807 24.7692 6.05767 24.7692H10.9423C11.4519 24.7692 11.9435 24.5711 12.3081 24.2148L13.6298 22.9231H33V30.1723ZM6.08986 32.0153L6.0897 32.0152L6.08986 32.0153ZM10.9101 32.0153C10.9102 32.0152 10.9103 32.0152 10.9104 32.0151L10.9101 32.0153Z" stroke-width="2"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M34 1V9Z" fill="black"></path><path d="M34 1V9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M38 5H30Z"></path><path d="M38 5H30" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
				<p class="mobile">
					<nobr>Create</nobr>
				</p>
			</div>
			<div class="navigator" onclick="window.open('https://github.com/graplet/graplet.github.io/wiki/')">
				<svg class="icon strokevector" viewBox="0 0 12 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.2 3.72001V8.40001M6.2 3.72001C6.2 2.6279 6.2 2.08186 5.94809 1.66473C5.72651 1.29781 5.37297 0.999498 4.93811 0.812541C4.44373 0.600006 3.79657 0.600006 2.50222 0.600006H1.92444C1.60086 0.600006 1.43906 0.600006 1.31547 0.653139C1.20676 0.69988 1.11837 0.774458 1.06297 0.866186C1 0.970467 1 1.10698 1 1.38001V6.64501C1 6.91805 1 7.05456 1.06297 7.15883C1.11837 7.25058 1.20676 7.32512 1.31547 7.37187C1.43906 7.42501 1.60086 7.42501 1.92444 7.42501H3.62697C3.93908 7.42501 4.09513 7.42501 4.24604 7.44772C4.37997 7.46786 4.51064 7.5012 4.63533 7.54717C4.7758 7.5989 4.90564 7.67193 5.16532 7.81803L6.2 8.40001M6.2 3.72001C6.2 2.6279 6.2 2.08186 6.45191 1.66473C6.67349 1.29781 7.02703 0.999498 7.46187 0.812541C7.95627 0.600006 8.60344 0.600006 9.89778 0.600006H10.4756C10.7992 0.600006 10.9609 0.600006 11.0845 0.653139C11.1933 0.69988 11.2816 0.774458 11.337 0.866186C11.4 0.970467 11.4 1.10698 11.4 1.38001V6.64501C11.4 6.91805 11.4 7.05456 11.337 7.15883C11.2816 7.25058 11.1933 7.32512 11.0845 7.37187C10.9609 7.42501 10.7992 7.42501 10.4756 7.42501H8.77302C8.4609 7.42501 8.30484 7.42501 8.15399 7.44772C8.02 7.46786 7.88936 7.5012 7.76468 7.54717C7.62422 7.5989 7.49434 7.67193 7.23468 7.81803L6.2 8.40001" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round" /></svg>
				<p class="mobile">
					<nobr>Documentation</nobr>
				</p>
			</div>
			<div class="navigator" onclick="window.open('https://discord.gg/5GWccwuWYU')">
				<svg class="icon fillvector" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.63333 0.866669C2.52232 0.866669 0 3.38864 0 6.5C0 9.61136 2.52197 12.1333 5.63333 12.1333C8.74469 12.1333 11.2667 9.61136 11.2667 6.5C11.2667 3.38864 8.74469 0.866669 5.63333 0.866669ZM7.04167 1.77962C8.62851 2.25247 9.87664 3.50483 10.3502 5.09167H8.06658C7.81977 4.66776 7.46593 4.31392 7.04202 4.06781L7.04167 1.77962ZM7.74196 6.50211C7.74196 7.66786 6.79802 8.6125 5.63333 8.6125C4.46864 8.6125 3.52471 7.66786 3.52471 6.50211C3.52471 5.33637 4.46864 4.39173 5.63333 4.39173C6.79767 4.39173 7.74196 5.33672 7.74196 6.50211ZM4.92917 1.62506C5.15908 1.59196 5.39392 1.57436 5.63333 1.57436C5.87275 1.57436 6.10724 1.59231 6.3375 1.62506V3.77945C6.11217 3.72136 5.87698 3.68721 5.63333 3.68721C5.38969 3.68721 5.1545 3.72136 4.92917 3.77945V1.62506ZM4.225 1.77962V4.06781C3.80074 4.31427 3.4469 4.66776 3.20044 5.09167H0.916473C1.39002 3.50483 2.63816 2.25282 4.225 1.77962ZM0.707687 6.50176C0.707687 6.26164 0.728108 6.0268 0.761204 5.79584H2.91102C2.85258 6.02152 2.82054 6.25777 2.82054 6.50176C2.82054 6.7447 2.85258 6.97954 2.91032 7.20417H0.760852C0.728108 6.97461 0.707687 6.74047 0.707687 6.50176ZM4.225 11.2236C2.63675 10.7504 1.38862 9.49623 0.915417 7.90834H3.19797C3.44478 8.33365 3.79933 8.6889 4.22465 8.93607V11.2239L4.225 11.2236ZM6.3375 11.3781C6.10724 11.4109 5.8724 11.4292 5.63333 11.4292C5.39427 11.4292 5.15908 11.4109 4.92917 11.3781V9.22407C5.1545 9.28252 5.38969 9.31632 5.63333 9.31632C5.87698 9.31632 6.11217 9.28216 6.3375 9.22407V11.3781ZM7.04167 11.2236V8.93571C7.46698 8.6889 7.82188 8.33365 8.06834 7.90798H10.3509C9.87805 9.49623 8.62921 10.7507 7.04167 11.2236ZM8.3567 7.20417C8.41444 6.97989 8.44648 6.7447 8.44648 6.50176C8.44648 6.25742 8.41444 6.02152 8.35564 5.79584H10.5058C10.5389 6.0268 10.5593 6.26164 10.5593 6.50176C10.5593 6.74047 10.5389 6.97461 10.5062 7.20417H8.3567Z" /></svg>
				<p class="mobile">
					<nobr>Support Server</nobr>
				</p>
			</div>
			<div class="navigator"onclick="window.open('https://buy.stripe.com/00g3cP05o3PkdfG9AE')">
				<svg class="icon fillvector" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m8.9617 18.911 0.46432-0.589-0.46432 0.589zm3.0383-13.41-0.5404 0.5201c0.1414 0.1469 0.3365 0.2299 0.5404 0.2299s0.399-0.083 0.5404-0.2299l-0.5404-0.5201zm3.0383 13.41 0.4643 0.589-0.4643-0.589zm-5.6122-0.589c-1.5157-1.1948-3.173-2.3616-4.4878-3.8421-1.2891-1.4516-2.1883-3.1453-2.1883-5.3427h-1.5c0 2.6655 1.1105 4.699 2.5667 6.3387 1.4305 1.6108 3.254 2.8994 4.6807 4.0241l0.92863-1.178zm-6.676-9.1848c0-2.1509 1.2154-3.9546 2.8744-4.7129 1.6117-0.73671 3.7773-0.54161 5.8352 1.5965l1.0808-1.0402c-2.4419-2.537-5.2763-2.9551-7.5396-1.9206-2.216 1.013-3.7508 3.3651-3.7508 6.0771h1.5zm5.7474 10.363c0.51223 0.4038 1.0621 0.8344 1.6194 1.16 0.5571 0.3255 1.1928 0.5901 1.8832 0.5901v-1.5c-0.3096 0-0.6739-0.1207-1.1264-0.3852-0.4523-0.2643-0.92152-0.6282-1.4476-1.0429l-0.92863 1.178zm7.0052 0c1.4266-1.1247 3.2502-2.4133 4.6807-4.0241 1.4562-1.6397 2.5667-3.6732 2.5667-6.3387h-1.5c0 2.1974-0.8992 3.8911-2.1883 5.3427-1.3148 1.4805-2.9721 2.6473-4.4877 3.8421l0.9286 1.178zm7.2474-10.363c0-2.7121-1.5347-5.0642-3.7508-6.0771-2.2633-1.0346-5.0977-0.61644-7.5396 1.9206l1.0808 1.0402c2.0579-2.1382 4.2235-2.3332 5.8352-1.5965 1.659 0.75833 2.8744 2.562 2.8744 4.7129h1.5zm-8.176 9.1848c-0.5261 0.4147-0.9953 0.7786-1.4476 1.0429-0.4525 0.2645-0.8168 0.3852-1.1264 0.3852v1.5c0.6904 0 1.3261-0.2646 1.8832-0.5901 0.5573-0.3256 1.1071-0.7562 1.6194-1.16l-0.9286-1.178z"/></svg>
				<p class="mobile">
					<nobr>Donate</nobr>
				</p>
			</div>
			<div class="navigator" onclick="ToggleMode()">
				<svg class="icon fillvector" viewBox="0 0 8.467 8.467" xmlns="http://www.w3.org/2000/svg"><path d="M4.234.794a3.444 3.444 0 0 0-3.44 3.44 3.444 3.444 0 0 0 3.44 3.44 3.444 3.444 0 0 0 3.44-3.44 3.444 3.444 0 0 0-3.44-3.44zm.265.541a2.905 2.905 0 0 1 2.645 2.898 2.905 2.905 0 0 1-2.645 2.898z"/></svg>
			</div>
		</div>
	</div>
	<!-- Content -->
	<div class="content">
		<h1>Your Projects</h1><br>
		<div id="projects">
			<div id="create-new" style="padding: 15px;" onclick="window.location.href = '/editor/'">
				<svg xmlns="http://www.w3.org/2000/svg" width="185" height="240" style="border-radius: 30px;">
					<rect fill="none" rx="30" ry="30" stroke="rgba(calc(225 - var(--val)), calc(225 - var(--val)), calc(225 - var(--val))" stroke-width="6" stroke-dasharray="10, 14" stroke-dashoffset="0" stroke-linecap="butt" width="100%" height="100%"></rect>
					<path xmlns="http://www.w3.org/2000/svg" d="M63.7002 113.952H118.3" stroke="rgba(calc(225 - var(--val)), calc(225 - var(--val)), calc(225 - var(--val))" stroke-opacity="0.8" stroke-width="4" stroke-linecap="round"/>
					<path xmlns="http://www.w3.org/2000/svg" d="M91 87.1L91 141.7" stroke="rgba(calc(225 - var(--val)), calc(225 - var(--val)), calc(225 - var(--val))" stroke-opacity="0.8" stroke-width="4" stroke-linecap="round"/>
				</svg>
				<h2 style="transform: translate(25%,-200%); position: absolute;">Create new</h2>
			</div>
		</div>
	</div>
	<script>
		var Projects = []
		openDatabase()
		.then(db => {
			console.info("Database opened successfully on Projects:", db);
			// DB Action
			const transaction = db.transaction(["projects"])
				.objectStore("projects")
				.getAll();
			transaction.onsuccess = function(event) {
				console.info("Fetched Project data.")
				Projects = transaction.result;
				const projectsContainer = document.getElementById('projects');
				const AddNew = document.getElementById('create-new');
				Projects.forEach(({id,name, image},index) => {
					const div = document.createElement("div");
					div.className = "applet";
					div.style.cssText = "width: 215px; height: 270px;";
					div.onclick = () => { window.location.href = `/editor/#${id}`; };
					imageElement = `<img class="appimage" src="${image}" alt="image">`;
					if (!image){
						imageElement = '<svg class="appimage fillvector" fill="none" viewBox="0 0 467 467" xmlns="http://www.w3.org/2000/svg"><path d="m0 0v467h467v-467h-467zm255.31 246.1c0 14.876 11.561 27.046 26.266 28.01l-0.01-0.01h0.078c14.617-0.837 26.207-12.958 26.207-27.786 0-0.558-0.018-1.117-0.046-1.595 0.038-0.581 0.056-1.163 0.056-1.754 0-14.818-11.6-26.92-26.285-27.718h-0.078c-14.617 0.886-26.198 13.017-26.198 27.864 0 0.542 0.019 1.075 0.047 1.535-0.028 0.484-0.037 0.969-0.037 1.454zm0.037-1.454c1e-3 0.011 1e-3 0.022 2e-3 0.033v-0.069c-1e-3 0.012-1e-3 0.024-2e-3 0.036zm52.458 0.073c-1e-3 -0.013-1e-3 -0.027-2e-3 -0.04v0.078c1e-3 -0.013 1e-3 -0.025 2e-3 -0.038zm-149.48 1.381c0 14.876 11.561 27.046 26.266 28.01h0.077c14.617-0.886 26.198-13.017 26.198-27.864 0-0.539-0.018-1.069-0.046-1.527 0.037-0.582 0.056-1.163 0.056-1.754 0-14.818-11.6-26.92-26.285-27.718h-0.078c-14.617 0.886-26.198 13.017-26.198 27.864 0 0.542 0.019 1.075 0.047 1.535-0.028 0.484-0.037 0.969-0.037 1.454zm0.037-1.454c0 0.011 1e-3 0.022 2e-3 0.033v-0.069c-1e-3 0.012-2e-3 0.024-2e-3 0.036zm52.458 0.073c-1e-3 -0.014-2e-3 -0.027-2e-3 -0.04v0.078c0-0.013 1e-3 -0.026 2e-3 -0.038zm65.365-122.19c20.865 3.71 40.796 10.116 57.953 18.216l0.01-0.029c0.102 0.045 0.196 0.115 0.27 0.202l-0.407-0.611c28.329 39.956 44.99 88.782 44.99 141.5 0 8.967-0.477 17.827-1.323 25.46-0.03 0.272-0.166 0.516-0.38 0.671l0.633-0.457c-21.488 16.064-45.74 28.623-73.621 37.308-0.087 0.019-0.185 0.039-0.282 0.039-0.302 0-0.584-0.156-0.749-0.39l0.389 0.555c-5.469-7.526-10.413-15.451-15.289-24.797-0.068-0.127-0.107-0.273-0.107-0.429 0-0.389 0.253-0.73 0.604-0.866l1.021-0.351c7.815-3.008 15.318-6.649 21.751-10.495 0.263-0.165 0.447-0.457 0.447-0.798 0-0.302-0.145-0.575-0.369-0.75-1.548-1.139-3.076-2.346-4.535-3.553-0.156-0.127-0.36-0.205-0.574-0.205-0.042 0-0.082 2e-3 -0.121 7e-3 -22.323 10.548-47.285 16.447-73.607 16.447-26.626 0-51.85-6.037-73.338-16.366h0.01c-0.107-0.049-0.234-0.078-0.37-0.078-0.214 0-0.419 0.078-0.574 0.204-1.46 1.208-2.998 2.395-4.526 3.544-0.223 0.166-0.369 0.438-0.369 0.74 0 0.341 0.185 0.643 0.467 0.808l-0.75-0.409c7.143 4.187 14.647 7.838 23.522 11.265h0.01c0.35 0.136 0.603 0.467 0.603 0.866 0 0.156-0.039 0.302-0.097 0.419l-0.458 0.973c-4.291 8.334-9.245 16.279-14.451 23.289-0.166 0.223-0.438 0.37-0.75 0.37-0.097 0-0.194-0.01-0.272-0.039l-1.713-0.468c-26.13-8.246-50.342-20.805-71.168-36.392-0.2043-0.166-0.3503-0.4-0.3795-0.682l0.0876 1.071c-0.9051-8.587-1.3722-17.301-1.3722-26.131 0-52.837 16.622-101.79 44.396-141.13 0.085-0.141 0.215-0.255 0.373-0.324l-1.453 0.616c18.626-8.733 38.557-15.13 60.872-19.053 0.048-0.01 0.107-0.01 0.155-0.01 0.341 0 0.643 0.175 0.808 0.458l-0.399-0.75c2.77 4.822 5.278 9.8 7.901 15.922 10.885-1.637 22.029-2.486 33.371-2.486 11.776 0 23.337 0.915 33.361 2.521l0.418-1.081c2.229-5.121 4.701-10.115 6.978-14.117 0.155-0.272 0.447-0.457 0.788-0.457 0.027 0 0.054 2e-3 0.081 5e-3 0.03 4e-3 0.058 9e-3 0.084 0.014l1.45 0.214zm30.042 180.31c0.029-0.014 0.058-0.027 0.087-0.038l-0.087 0.038z" clip-rule="evenodd" fill-rule="evenodd"/></svg>'
					}
	
					div.innerHTML = `
						${imageElement}
						<div class="appname">
							<h2>${name}</h2>
						</div>
					`;
					projectsContainer.insertBefore(div, AddNew);
				});
				console.info("Loaded project data.");
			};
		})
		.catch(error => {
			console.error("Error opening database:", error);
		});
	</script>
</body>
</html>